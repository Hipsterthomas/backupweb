<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Wait</title>
    <style>
        html {height: 100%;overflow: hidden;}
        body{
            height: 100%;
            margin: 0;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            background-color: #bdaa90;
            user-select: none;
            -moz-user-select: none;
            -webkit-user-select: none;
            position:relative;
            overflow:hidden;
        }
    </style>
</head>

<body>
<img onclick="addlight()"  src="imgs/0.png" alt="0">

<script>
    var light = document.querySelector("img");
    var count = 0;
    var sound = [
        "sound/1.mp3",
        "sound/2.mp3",
        "sound/3.mp3",
        "sound/4.mp3",
        "sound/5.mp3",
    ]
    soundcount = 0;
    function addlight() {
        var a = new Audio(sound[soundcount]);
        a.load()
        a.play()
        soundcount = (soundcount+1)%sound.length;
        count = (count + 1) % car.length;
        light.src = car[count];
        if(count!==5) setTimeout(addlight,1000);
        else{
            setTimeout(restart,4445);//rand time
        }
    }
    function restart(e){
        count = 0;
        light.src = car[count];
        if(e.key === "keydown"){
            document.removeEventListener("keydown",restart);
            settime = setTimeout(addlight,1000);
        }

    }

    var car = [
        "imgs/0.png",
        "imgs/1.png",
        "imgs/2.png",
        "imgs/3.png",
        "imgs/4.png",
        "imgs/5.png",
    ];

    var settime = setTimeout(addlight,1000);
    // document.addEventListener("keydown", addlight());
</script>
</body>
</html>